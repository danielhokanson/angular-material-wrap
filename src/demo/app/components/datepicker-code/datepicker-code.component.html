<amw-code-doc
  componentName="amw-datepicker"
  [examples]="examples"
  [editableCode]="editableCode">

  <ng-template #preview let-example>
    @switch (example.key) {
      @case ('basic') {
        <amw-datepicker
          label="Select Date"
          placeholder="Choose a date..."
          [(ngModel)]="selectedDate">
        </amw-datepicker>
        <p>Selected date: {{ selectedDate | date }}</p>
      }
      @case ('withMinMax') {
        <amw-datepicker
          label="Birth Date"
          placeholder="Select your birth date..."
          [min]="minDate"
          [max]="maxDate"
          [(ngModel)]="birthDate">
        </amw-datepicker>
        <p>Selected date: {{ birthDate | date }}</p>
      }
      @case ('withValidation') {
        <form [formGroup]="dateForm">
          <amw-datepicker
            formControlName="startDate"
            label="Start Date *"
            placeholder="Select start date..."
            [required]="true"
            [min]="currentDate"
            appearance="outline"
            [errorMessage]="dateForm.get('startDate')?.hasError('required') ? 'Start date is required' : ''">
          </amw-datepicker>
        </form>
        <p>Form valid: {{ dateForm.valid ? 'Yes' : 'No' }}</p>
      }
      @case ('differentFormats') {
        <amw-datepicker
          label="Short Date"
          placeholder="MM/DD/YYYY"
          [(ngModel)]="shortDate"
          format="short">
        </amw-datepicker>
        <p>Short format: {{ shortDate | date:'short' }}</p>

        <amw-datepicker
          label="Long Date"
          placeholder="Month Day, Year"
          [(ngModel)]="longDate"
          format="long">
        </amw-datepicker>
        <p>Long format: {{ longDate | date:'long' }}</p>

        <amw-datepicker
          label="Custom Format"
          placeholder="DD-MM-YYYY"
          [(ngModel)]="customDate"
          format="dd-MM-yyyy">
        </amw-datepicker>
        <p>Custom format: {{ customDate | date:'dd-MM-yyyy' }}</p>
      }
      @case ('disabled') {
        <amw-datepicker
          label="Disabled Datepicker"
          placeholder="This is disabled..."
          [(ngModel)]="selectedDate"
          [disabled]="true">
        </amw-datepicker>
        <p>Selected date: {{ selectedDate | date }}</p>
      }
      @case ('reactiveForm') {
        <form [formGroup]="dateForm">
          <amw-datepicker
            formControlName="startDate"
            label="Start Date *"
            placeholder="Select start date..."
            [min]="minDate"
            [required]="true">
          </amw-datepicker>
        </form>
        <p>Form valid: {{ dateForm.valid ? 'Yes' : 'No' }}</p>
        <p>Form value: {{ dateForm.get('startDate')?.value | date }}</p>
      }
      @case ('withEvents') {
        <amw-datepicker
          label="Event Date"
          placeholder="Select event date..."
          [(ngModel)]="eventDate"
          (dateChange)="onDateChange($event)"
          (opened)="onDatepickerOpened()"
          (closed)="onDatepickerClosed()">
        </amw-datepicker>
        <p>Selected date: {{ eventDate | date }}</p>
        <p class="info-note">
          <amw-icon name="info"></amw-icon>
          Open your browser console to see event logs
        </p>
      }
      @case ('bookingForm') {
        <form [formGroup]="bookingForm" class="booking-form">
          <h3>Event Booking</h3>

          <amw-datepicker
            formControlName="eventDate"
            label="Event Date *"
            placeholder="Select event date..."
            [min]="currentDate"
            [required]="true">
          </amw-datepicker>

          <amw-datepicker
            formControlName="startTime"
            label="Start Time *"
            placeholder="Select start time..."
            [min]="currentDate"
            [required]="true">
          </amw-datepicker>

          <amw-datepicker
            formControlName="endTime"
            label="End Time *"
            placeholder="Select end time..."
            [min]="currentDate"
            [required]="true">
          </amw-datepicker>

          <amw-datepicker
            formControlName="setupDate"
            label="Setup Date"
            placeholder="Select setup date..."
            [min]="currentDate">
          </amw-datepicker>

          <amw-button appearance="elevated"
            color="primary"
            [disabled]="bookingForm.invalid">
            Book Event
          </amw-button>
        </form>
        <p>Form valid: {{ bookingForm.valid ? 'Yes' : 'No' }}</p>
      }
    }
  </ng-template>
</amw-code-doc>
