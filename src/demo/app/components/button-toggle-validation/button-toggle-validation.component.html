<div class="amw-demo-button-toggle-validation">
  <div class="validation-section">
    <h3 class="validation-section__title">Button Toggle Validation Examples</h3>
    <p class="validation-section__description">
      This form demonstrates various validation patterns using Angular Material button toggles.
    </p>

    <form [formGroup]="validationForm" (ngSubmit)="onSubmit()" class="validation-form">
      <!-- Required Single Selection -->
      <div class="form-section">
        <h4>Required Single Selection</h4>
        <div class="toggle-group">
          <label class="toggle-label">View Mode (Required)</label>
          <amw-button-toggle-group formControlName="viewMode">
            <amw-button-toggle value="list" icon="view_list">List</amw-button-toggle>
            <amw-button-toggle value="grid" icon="grid_view">Grid</amw-button-toggle>
            <amw-button-toggle value="table" icon="table_chart">Table</amw-button-toggle>
          </amw-button-toggle-group>
          @if (getFieldError('viewMode')) {
            <div class="field-error">
              {{ getFieldError('viewMode') }}
            </div>
          }
        </div>

        <div class="toggle-group">
          <label class="toggle-label">Text Alignment (Required)</label>
          <amw-button-toggle-group formControlName="alignment">
            <amw-button-toggle value="left" icon="format_align_left"></amw-button-toggle>
            <amw-button-toggle value="center" icon="format_align_center"></amw-button-toggle>
            <amw-button-toggle value="right" icon="format_align_right"></amw-button-toggle>
            <amw-button-toggle value="justify" icon="format_align_justify"></amw-button-toggle>
          </amw-button-toggle-group>
          @if (getFieldError('alignment')) {
            <div class="field-error">
              {{ getFieldError('alignment') }}
            </div>
          }
        </div>
      </div>

      <!-- Required Multiple Selection -->
      <div class="form-section">
        <h4>Required Multiple Selection</h4>
        <div class="toggle-group">
          <label class="toggle-label">Text Formatting (At least one required)</label>
          <amw-button-toggle-group formControlName="textFormatting" [multiple]="true">
            <amw-button-toggle value="bold" icon="format_bold"></amw-button-toggle>
            <amw-button-toggle value="italic" icon="format_italic"></amw-button-toggle>
            <amw-button-toggle value="underline" icon="format_underlined"></amw-button-toggle>
            <amw-button-toggle value="strikethrough" icon="format_strikethrough"></amw-button-toggle>
          </amw-button-toggle-group>
          @if (getFieldError('textFormatting')) {
            <div class="field-error">
              {{ getFieldError('textFormatting') }}
            </div>
          }
        </div>
      </div>

      <!-- Disabled States -->
      <div class="form-section">
        <h4>Disabled States</h4>
        <div class="toggle-group">
          <label class="toggle-label">Individual Toggles Disabled</label>
          <amw-button-toggle-group [value]="disabledDemoValue">
            <amw-button-toggle value="option1">Option 1</amw-button-toggle>
            <amw-button-toggle value="option2" [disabled]="true">Option 2 (Disabled)</amw-button-toggle>
            <amw-button-toggle value="option3">Option 3</amw-button-toggle>
            <amw-button-toggle value="option4" [disabled]="true">Option 4 (Disabled)</amw-button-toggle>
          </amw-button-toggle-group>
        </div>

        <div class="toggle-group">
          <label class="toggle-label">Entire Group Disabled</label>
          <amw-button-toggle-group [disabled]="true" value="selected">
            <amw-button-toggle value="a">Option A</amw-button-toggle>
            <amw-button-toggle value="selected">Option B (Selected)</amw-button-toggle>
            <amw-button-toggle value="c">Option C</amw-button-toggle>
          </amw-button-toggle-group>
        </div>
      </div>

      <div class="form-actions">
        <amw-button
          type="submit"
          appearance="elevated"
          color="primary"
          [disabled]="validationForm.invalid">
          Save Settings
        </amw-button>
        <amw-button
          type="button"
          appearance="outlined"
          color="primary"
          (click)="validationForm.reset()">
          Reset to Defaults
        </amw-button>
      </div>
    </form>

    <div class="validation-info">
      <h4>Validation Rules Applied:</h4>
      <ul>
        <li><strong>View Mode:</strong> Must select one option</li>
        <li><strong>Alignment:</strong> Must select one option</li>
        <li><strong>Text Formatting:</strong> Must select at least one option</li>
        <li><strong>Disabled States:</strong> Demonstrate disabled individual toggles and disabled groups</li>
      </ul>
    </div>
  </div>
</div>
