<div class="amw-demo-calendar">
  <div class="demo-header">
    <h1>AMW Calendar</h1>
    <p>Comprehensive calendar components with event management and multiple view modes</p>
  </div>

  <mat-tab-group [(selectedIndex)]="selectedTab" class="demo-tabs">
    
    <!-- Full Calendar Tab -->
    <mat-tab label="Full Calendar" icon="calendar_view_month">
      <div class="tab-content">
        <mat-card class="demo-card">
          <mat-card-header>
            <mat-card-title>Full Calendar Component</mat-card-title>
            <mat-card-subtitle>Full-screen calendar with month, week, and day views</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <div class="demo-section">
              <h3>Interactive Calendar</h3>
              <p>Full-featured calendar with drag-and-drop, editing, and multiple view modes</p>
              
              <!-- Demo Controls -->
              <div class="demo-controls">
                <h4>Event Creation Examples:</h4>
                <div class="control-group">
                  <amw-button variant="elevated" 
                          color="primary" 
                          (click)="addSampleEventWithTime()" icon="schedule" iconPosition="left">Add Time Event (2:00-3:00 PM)</amw-button>
                  <amw-button variant="elevated" 
                          color="accent" 
                          (click)="addSampleEventDateOnly()" icon="event" iconPosition="left">Add All-Day Event</amw-button>
                </div>
                <div class="control-group">
                  <amw-button variant="text" 
                          (click)="clearAllEvents()" icon="clear" iconPosition="left">Clear All</amw-button>
                  <amw-button variant="text" 
                          (click)="resetSampleEvents()" icon="refresh" iconPosition="left">Reset Sample</amw-button>
                </div>
              </div>

              <!-- Full Calendar Component -->
              <div class="calendar-container">
                <amw-calendar-full
                  [events]="sampleEvents"
                  [config]="fullCalendarConfig"
                  [items]="sampleItems"
                  [itemConfig]="itemConfig"
                  [useNewItemSystem]="useNewItemSystem"
                  [currentDate]="currentDate"
                  [height]="'1000px'"
                  (eventChange)="onEventChange($event)"
                  (eventClick)="onEventClick($event)"
                  (eventDoubleClick)="onEventDoubleClick($event)"
                  (eventEdit)="onEventEdit($event)"
                  (eventDelete)="onEventDelete($event)"
                  (eventMove)="onEventMove($event)"
                  (itemChange)="onItemChange($event)"
                  (itemClick)="onItemClick($event)"
                  (itemDoubleClick)="onItemDoubleClick($event)"
                  (itemCreate)="onItemCreate($event)"
                  (itemEdit)="onItemEdit($event)"
                  (itemDelete)="onItemDelete($event)"
                  (itemMove)="onItemMove($event)"
                  (navigationChange)="onNavigationChange($event)"
                  (viewChange)="onViewChange($event)"
                  (dateChange)="onDateChange($event)"
                  (cellClick)="onCellClick($event)"
                  (cellDoubleClick)="onCellDoubleClick($event)">
                </amw-calendar-full>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </mat-tab>

    <!-- Mini Calendar Tab -->
    <mat-tab label="Mini Calendar" icon="calendar_today">
      <div class="tab-content">
        <mat-card class="demo-card">
          <mat-card-header>
            <mat-card-title>Mini Calendar Component</mat-card-title>
            <mat-card-subtitle>Compact calendar for single day and week views</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <div class="demo-section">
              <h3>Single Day View</h3>
              <p>Compact calendar showing events for a single day</p>
              
              <!-- Demo Controls for Mini Calendar -->
              <div class="demo-controls">
                <h4>Quick Event Creation:</h4>
                <div class="control-group">
                  <amw-button variant="elevated" 
                          color="primary" 
                          (click)="addSampleEventWithTime()" icon="schedule" iconPosition="left">Add Time Event</amw-button>
                  <amw-button variant="elevated" 
                          color="accent" 
                          (click)="addSampleEventDateOnly()" icon="event" iconPosition="left">Add All-Day Event</amw-button>
                </div>
              </div>
              
              <!-- Mini Calendar - Single Day -->
              <div class="calendar-container mini">
                <amw-calendar-mini
                  [events]="sampleEvents"
                  [config]="miniCalendarConfig"
                  [currentDate]="currentDate"
                  [showWeekView]="false"
                  [maxEventsPerDay]="3"
                  [showMoreButton]="true"
                  [compactMode]="false"
                  (eventChange)="onEventChange($event)"
                  (eventClick)="onEventClick($event)"
                  (eventDoubleClick)="onEventDoubleClick($event)"
                  (eventEdit)="onEventEdit($event)"
                  (eventDelete)="onEventDelete($event)"
                  (eventMove)="onEventMove($event)"
                  (navigationChange)="onNavigationChange($event)"
                  (viewChange)="onViewChange($event)"
                  (dateChange)="onDateChange($event)"
                  (showMoreClick)="onShowMoreClick($event)"
                  (weekViewToggle)="onWeekViewToggle($event)">
                </amw-calendar-mini>
              </div>
            </div>

            <mat-divider></mat-divider>

            <div class="demo-section">
              <h3>Week View</h3>
              <p>Mini calendar showing events for an entire week</p>
              
              <!-- Mini Calendar - Week View -->
              <div class="calendar-container mini">
                <amw-calendar-mini
                  [events]="sampleEvents"
                  [config]="miniCalendarConfig"
                  [currentDate]="currentDate"
                  [showWeekView]="true"
                  [maxEventsPerDay]="2"
                  [showMoreButton]="true"
                  [compactMode]="false"
                  (eventChange)="onEventChange($event)"
                  (eventClick)="onEventClick($event)"
                  (eventDoubleClick)="onEventDoubleClick($event)"
                  (eventEdit)="onEventEdit($event)"
                  (eventDelete)="onEventDelete($event)"
                  (eventMove)="onEventMove($event)"
                  (navigationChange)="onNavigationChange($event)"
                  (viewChange)="onViewChange($event)"
                  (dateChange)="onDateChange($event)"
                  (showMoreClick)="onShowMoreClick($event)"
                  (weekViewToggle)="onWeekViewToggle($event)">
                </amw-calendar-mini>
              </div>
            </div>

            <mat-divider></mat-divider>

            <div class="demo-section">
              <h3>Compact Mode</h3>
              <p>Ultra-compact mini calendar for space-constrained layouts</p>
              
              <!-- Mini Calendar - Compact Mode -->
              <div class="calendar-container mini compact">
                <amw-calendar-mini
                  [events]="sampleEvents"
                  [config]="miniCalendarConfig"
                  [currentDate]="currentDate"
                  [showWeekView]="true"
                  [maxEventsPerDay]="1"
                  [showMoreButton]="true"
                  [compactMode]="true"
                  (eventChange)="onEventChange($event)"
                  (eventClick)="onEventClick($event)"
                  (eventDoubleClick)="onEventDoubleClick($event)"
                  (eventEdit)="onEventEdit($event)"
                  (eventDelete)="onEventDelete($event)"
                  (eventMove)="onEventMove($event)"
                  (navigationChange)="onNavigationChange($event)"
                  (viewChange)="onViewChange($event)"
                  (dateChange)="onDateChange($event)"
                  (showMoreClick)="onShowMoreClick($event)"
                  (weekViewToggle)="onWeekViewToggle($event)">
                </amw-calendar-mini>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </mat-tab>

    <!-- Custom Fields Tab -->
    <mat-tab label="Custom Fields" icon="extension">
      <div class="tab-content">
        <mat-card class="demo-card">
          <mat-card-header>
            <mat-card-title>Custom Field Templates</mat-card-title>
            <mat-card-subtitle>Extend calendar items with custom fields using template projection</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <div class="demo-section">
              <h3>Meeting Calendar with Custom Fields</h3>
              <p>This example demonstrates how to add custom fields (location, attendees, meeting URL) to calendar items using template projection.</p>

              <div class="info-box">
                <mat-icon>info</mat-icon>
                <div>
                  <strong>Custom Fields:</strong>
                  <ul>
                    <li><strong>Location:</strong> Meeting room or virtual location</li>
                    <li><strong>Attendees:</strong> Email addresses of participants</li>
                    <li><strong>Meeting URL:</strong> Video conference link</li>
                    <li><strong>Notes:</strong> Additional meeting notes</li>
                  </ul>
                  <p>Try creating or editing a meeting to see the custom fields in action. Validation ensures location and attendees are provided.</p>
                </div>
              </div>

              <!-- Custom Fields Calendar -->
              <div class="calendar-container">
                <amw-calendar-full
                  [items]="meetingItems"
                  [itemConfig]="itemConfig"
                  [useNewItemSystem]="true"
                  [currentDate]="currentDate"
                  [height]="'800px'"
                  [validateCustomFields]="validateMeetingFields"
                  (itemChange)="onMeetingItemChange($event)"
                  (itemClick)="onItemClick($event)"
                  (itemDoubleClick)="onItemDoubleClick($event)">

                  <!-- Custom fields template for edit mode -->
                  <ng-template #customFieldsTemplate let-item let-data="data">
                    <div class="amw-calendar-item-editor__field">
                      <label>Location: <span class="required">*</span></label>
                      <input type="text"
                        [(ngModel)]="data.location"
                        placeholder="e.g., Conference Room A or Virtual"
                        class="amw-calendar-item-editor__input">
                    </div>

                    <div class="amw-calendar-item-editor__field">
                      <label>Attendees (comma-separated): <span class="required">*</span></label>
                      <input type="text"
                        [ngModel]="attendeesToString(data.attendees)"
                        (ngModelChange)="data.attendees = stringToAttendees($event)"
                        placeholder="email1@example.com, email2@example.com"
                        class="amw-calendar-item-editor__input">
                    </div>

                    <div class="amw-calendar-item-editor__field">
                      <label>Meeting URL:</label>
                      <input type="url"
                        [(ngModel)]="data.meetingUrl"
                        placeholder="https://meet.google.com/..."
                        class="amw-calendar-item-editor__input">
                    </div>

                    <div class="amw-calendar-item-editor__field">
                      <label>Notes:</label>
                      <textarea [(ngModel)]="data.notes"
                        placeholder="Additional meeting notes"
                        class="amw-calendar-item-editor__textarea"
                        rows="3"></textarea>
                    </div>
                  </ng-template>

                  <!-- Custom fields template for readonly mode -->
                  <ng-template #customReadonlyFieldsTemplate let-item let-data="data">
                    <div class="amw-calendar-item-editor__field">
                      <label>Location:</label>
                      <span class="amw-calendar-item-editor__value">{{ data.location || 'No location specified' }}</span>
                    </div>

                    <div class="amw-calendar-item-editor__field">
                      <label>Attendees:</label>
                      <span class="amw-calendar-item-editor__value">
                        {{ data.attendees?.join(', ') || 'No attendees' }}
                      </span>
                    </div>

                    @if (data.meetingUrl) {
                      <div class="amw-calendar-item-editor__field">
                        <label>Meeting URL:</label>
                        <a [href]="data.meetingUrl"
                           target="_blank"
                           class="amw-calendar-item-editor__value meeting-link">
                          <mat-icon>video_call</mat-icon>
                          Join Meeting
                        </a>
                      </div>
                    }

                    @if (data.notes) {
                      <div class="amw-calendar-item-editor__field">
                        <label>Notes:</label>
                        <span class="amw-calendar-item-editor__value">{{ data.notes }}</span>
                      </div>
                    }
                  </ng-template>
                </amw-calendar-full>
              </div>
            </div>

            <mat-divider></mat-divider>

            <div class="demo-section">
              <h3>Code Example</h3>
              <div class="code-example">
                <pre><code>// Define extended meeting model
interface MeetingEvent &#123;
  itemType: string;
  location: string;
  attendees: string[];
  meetingUrl?: string;
  notes?: string;
&#125;

// Validation function
validateMeetingFields = (data: MeetingEvent): boolean => &#123;
  if (!data.location?.trim()) return false;
  if (!data.attendees || data.attendees.length === 0) return false;
  return true;
&#125;;

// In template
&lt;amw-calendar-full
  [items]="meetingItems"
  [validateCustomFields]="validateMeetingFields"
  (itemChange)="onMeetingItemChange($event)"&gt;

  &lt;ng-template #customFieldsTemplate let-data="data"&gt;
    &lt;!-- Edit mode custom fields --&gt;
    &lt;input [(ngModel)]="data.location" placeholder="Location"&gt;
    &lt;input [(ngModel)]="data.meetingUrl" placeholder="Meeting URL"&gt;
  &lt;/ng-template&gt;

  &lt;ng-template #customReadonlyFieldsTemplate let-data="data"&gt;
    &lt;!-- Readonly mode custom fields --&gt;
    &lt;div&gt;Location: data.location&lt;/div&gt;
    &lt;a [href]="data.meetingUrl"&gt;Join Meeting&lt;/a&gt;
  &lt;/ng-template&gt;
&lt;/amw-calendar-full&gt;</code></pre>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </mat-tab>

    <!-- Features Tab -->
    <mat-tab label="Features" icon="star">
      <div class="tab-content">
        <mat-card class="demo-card">
          <mat-card-header>
            <mat-card-title>Calendar Features</mat-card-title>
            <mat-card-subtitle>Comprehensive feature overview</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <div class="features-grid">
              <div class="feature-item">
                <mat-icon>event</mat-icon>
                <h4>Event Management</h4>
                <p>Create, edit, delete, and move events with drag-and-drop support</p>
              </div>
              
              <div class="feature-item">
                <mat-icon>view_module</mat-icon>
                <h4>Multiple Views</h4>
                <p>Month, week, and day views with smooth transitions</p>
              </div>
              
              <div class="feature-item">
                <mat-icon>drag_indicator</mat-icon>
                <h4>Drag & Drop</h4>
                <p>Intuitive drag-and-drop for moving events between dates and times</p>
              </div>
              
              <div class="feature-item">
                <mat-icon>palette</mat-icon>
                <h4>Customizable</h4>
                <p>Custom colors, styling, and event rendering</p>
              </div>
              
              <div class="feature-item">
                <mat-icon>code</mat-icon>
                <h4>Generic Types</h4>
                <p>Strongly typed with TypeScript generics for any data type</p>
              </div>
              
              <div class="feature-item">
                <mat-icon>responsive</mat-icon>
                <h4>Responsive</h4>
                <p>Fully responsive design that works on all screen sizes</p>
              </div>
              
              <div class="feature-item">
                <mat-icon>accessibility</mat-icon>
                <h4>Accessible</h4>
                <p>Built with accessibility in mind, supporting screen readers</p>
              </div>
              
              <div class="feature-item">
                <mat-icon>settings</mat-icon>
                <h4>Configurable</h4>
                <p>Highly configurable with extensive customization options</p>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
