<amw-validation-doc
  componentName="amw-dialog"
  [validationForm]="validationForm"
  [validationInfo]="validationInfo">
  <ng-template #formContent>
    <div class="dialog-validation__notice">
      <strong>Note:</strong> This page tests the <em>legacy</em> configuration-based dialog API (openWithOptions).
      For new implementations, use the <strong>recommended signal-based pattern</strong> shown in the Variations and Code tabs.
    </div>

    <div class="dialog-validation__section">
      <h3>Dialog Configuration</h3>
      <p>Configure the dialog settings and test the behavior.</p>

      <div class="dialog-validation__controls">
        <amw-input
          class="dialog-validation__control"
          label="Title *"
          formControlName="title"
          placeholder="Dialog title">
        </amw-input>
        @if (getFieldError('title')) {
          <div class="field-error">{{ getFieldError('title') }}</div>
        }

        <amw-textarea
          class="dialog-validation__control"
          label="Content *"
          formControlName="content"
          placeholder="Dialog content"
          [rows]="3">
        </amw-textarea>
        @if (getFieldError('content')) {
          <div class="field-error">{{ getFieldError('content') }}</div>
        }
      </div>

      <div class="dialog-validation__controls">
        <amw-select
          class="dialog-validation__control"
          label="Type"
          formControlName="type"
          [options]="typeOptions">
        </amw-select>

        <amw-select
          class="dialog-validation__control"
          label="Size"
          formControlName="size"
          [options]="sizeOptions">
        </amw-select>
      </div>

      <div class="dialog-validation__checkboxes">
        <amw-checkbox formControlName="showCloseButton">Show Close Button</amw-checkbox>
        <amw-checkbox formControlName="showHeader">Show Header</amw-checkbox>
        <amw-checkbox formControlName="showFooter">Show Footer</amw-checkbox>
        <amw-checkbox formControlName="closable">Closable</amw-checkbox>
        <amw-checkbox formControlName="loading">Loading State</amw-checkbox>
        <amw-checkbox formControlName="disabled">Disabled</amw-checkbox>
      </div>
    </div>

    <div class="dialog-validation__actions">
      <amw-button appearance="text" type="button" (click)="onReset()">Reset</amw-button>
      <amw-button appearance="elevated" color="primary" type="button" (click)="openDialog()" [disabled]="validationForm.invalid">
        Open Dialog
      </amw-button>
    </div>

    @if (lastDialogResult !== null) {
      <div class="dialog-validation__result">
        <h4>Last Dialog Result:</h4>
        <p><strong>Result:</strong> {{ lastDialogResult || 'undefined' }}</p>
      </div>
    }
  </ng-template>
</amw-validation-doc>
