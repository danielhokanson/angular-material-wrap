<div class="dialog-validation">
  <amw-card>
    <div slot="header">
      <h2>Dialog Configuration Validation</h2>
      <p class="subtitle">Configure and test dialog settings with validation</p>
    </div>

    <div slot="content">
      <form [formGroup]="dialogForm" (ngSubmit)="onSubmit()">
        <div class="dialog-validation__form">
          <div class="dialog-validation__section">
            <h3>Dialog Configuration</h3>
            <p>Configure the dialog settings and test the behavior.</p>

            <div class="dialog-validation__controls">
              <amw-input
                class="dialog-validation__control"
                label="Title *"
                formControlName="title"
                placeholder="Dialog title">
              </amw-input>
              @if (dialogForm.get('title')?.hasError('required')) {
                <div class="field-error">
                  Title is required
                </div>
              }

              <amw-textarea
                class="dialog-validation__control"
                label="Content *"
                formControlName="content"
                placeholder="Dialog content"
                rows="3">
              </amw-textarea>
              @if (dialogForm.get('content')?.hasError('required')) {
                <div class="field-error">
                  Content is required
                </div>
              }
            </div>

            <div class="dialog-validation__controls">
              <amw-select
                class="dialog-validation__control"
                label="Type"
                formControlName="type"
                [options]="typeOptions">
              </amw-select>

              <amw-select
                class="dialog-validation__control"
                label="Size"
                formControlName="size"
                [options]="sizeOptions">
              </amw-select>
            </div>

            <div class="dialog-validation__checkboxes">
              <amw-checkbox formControlName="showCloseButton">Show Close Button</amw-checkbox>
              <amw-checkbox formControlName="showHeader">Show Header</amw-checkbox>
              <amw-checkbox formControlName="showFooter">Show Footer</amw-checkbox>
              <amw-checkbox formControlName="closable">Closable</amw-checkbox>
              <amw-checkbox formControlName="loading">Loading State</amw-checkbox>
              <amw-checkbox formControlName="disabled">Disabled</amw-checkbox>
            </div>
          </div>
        </div>

        <div class="dialog-validation__actions">
          <amw-button variant="text" type="button" (click)="onReset()">Reset</amw-button>
          <amw-button variant="elevated" color="primary" type="submit" [disabled]="dialogForm.invalid">
            Open Dialog
          </amw-button>
        </div>
      </form>

      @if (lastDialogResult !== null) {
        <div class="dialog-validation__result">
          <h4>Last Dialog Result:</h4>
          <p><strong>Result:</strong> {{ lastDialogResult || 'undefined' }}</p>
          <p><strong>Type:</strong> {{ typeof lastDialogResult }}</p>
        </div>
      }
    </div>
  </amw-card>
</div>


