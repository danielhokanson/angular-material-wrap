<div class="amw-demo-theme-menu">
  <amw-popover
    [showHeader]="true"
    headerTitle="Theme Options"
    headerSubtitle="Switch themes or manage custom themes"
    [showClose]="true"
    position="bottom-right"
    size="extra-large">
    <ng-template #trigger>
      <amw-button icon="palette"
        [amwTooltip]="'Theme Options'"
        class="theme-menu-button"></amw-button>
    </ng-template>
    <ng-template #content>
      <div class="theme-menu">
        <!-- Current Theme Info -->
        @if (currentTheme()) {
          <div class="current-theme-info">
            <div class="current-theme-label">Current Theme:</div>
            <div class="current-theme-details">
              <div class="theme-name">{{ currentTheme()!.displayName }}</div>
              <div class="theme-meta">{{ getThemeDescription(currentTheme()!) }}</div>
              <div class="theme-colors">
                <div
                  class="color-swatch primary"
                  [ngStyle]="getColorStyle(currentTheme(), 'primary')"
                  [amwTooltip]="'Primary'">
                </div>
                <div
                  class="color-swatch accent"
                  [ngStyle]="getColorStyle(currentTheme(), 'accent')"
                  [amwTooltip]="'Accent'">
                </div>
              </div>
            </div>
          </div>
        }

        <amw-divider></amw-divider>

        <!-- Quick Theme Switcher -->
        <div class="quick-switcher">
          <div class="quick-switcher-label">Quick Switch:</div>
          <div class="theme-list">
            @for (theme of allThemes(); track theme.id) {
              <button
                type="button"
                (click)="onThemeSelect(theme.id)"
                [class.active]="currentTheme()?.id === theme.id"
                class="theme-item">
                <amw-icon class="theme-icon" [name]="getThemeIcon(theme)"></amw-icon>
                <div class="theme-details">
                  <div class="theme-name">{{ theme.displayName }}</div>
                  <div class="theme-description">{{ getThemeDescription(theme) }}</div>
                </div>
                <div class="theme-colors">
                  <div
                    class="color-swatch primary"
                    [ngStyle]="getColorStyle(theme, 'primary')">
                  </div>
                  <div
                    class="color-swatch accent"
                    [ngStyle]="getColorStyle(theme, 'accent')">
                  </div>
                </div>
              </button>
            }
          </div>
        </div>

        <amw-divider></amw-divider>

        <!-- Theme Management Actions -->
        <div class="theme-actions">
          <a routerLink="/theme" class="theme-action-item">
            <amw-icon name="edit"></amw-icon>
            <span>Manage Themes</span>
          </a>
          <a routerLink="/theme" class="theme-action-item">
            <amw-icon name="add"></amw-icon>
            <span>Create Theme</span>
          </a>
        </div>
      </div>
    </ng-template>
  </amw-popover>
</div>
