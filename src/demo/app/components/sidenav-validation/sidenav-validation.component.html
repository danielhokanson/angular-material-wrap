<div class="sidenav-validation">
  <!-- Header -->
  <div class="sidenav-validation__header">
    <h2>Sidenav Validation Demo</h2>
    <p>Test form validation and error handling for sidenav configuration</p>
  </div>

  <div class="sidenav-validation__content">
    <!-- Configuration Form -->
    <mat-card class="sidenav-validation__form-card">
      <mat-card-header>
        <mat-card-title>Configuration Validation</mat-card-title>
        <mat-card-subtitle>Test validation rules for sidenav configuration</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <form [formGroup]="configForm" (ngSubmit)="onSubmit()" class="sidenav-validation__form">
          <div class="sidenav-validation__form-row">
            <amw-select
              label="Mode *"
              formControlName="mode"
              [required]="true">
              @for (option of modeOptions; track option) {
                <mat-option [value]="option.value">
                  {{ option.label }}
                </mat-option>
              }
            </amw-select>

            <amw-select
              label="Size *"
              formControlName="size"
              [required]="true">
              @for (option of sizeOptions; track option) {
                <mat-option [value]="option.value">
                  {{ option.label }}
                </mat-option>
              }
            </amw-select>

            <amw-select
              label="Position *"
              formControlName="position"
              [required]="true">
              @for (option of positionOptions; track option) {
                <mat-option [value]="option.value">
                  {{ option.label }}
                </mat-option>
              }
            </amw-select>
          </div>

          <div class="sidenav-validation__form-row">
            <amw-input
              label="Width"
              formControlName="width"
              placeholder="e.g., 300px"
              hint="Enter width with unit (px, %, rem, em, vw, vh)">
            </amw-input>

            <amw-input
              label="Min Width"
              formControlName="minWidth"
              placeholder="e.g., 200px"
              hint="Enter minimum width with unit">
            </amw-input>

            <amw-input
              label="Max Width"
              formControlName="maxWidth"
              placeholder="e.g., 500px"
              hint="Enter maximum width with unit">
            </amw-input>
          </div>

          <div class="sidenav-validation__form-actions">
            <amw-button variant="elevated" color="primary" type="submit" icon="save" iconPosition="left">Update Configuration</amw-button>

            <amw-button variant="text" type="button" (click)="resetConfig()" icon="refresh" iconPosition="left">Reset</amw-button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>

    <!-- Item Form -->
    <mat-card class="sidenav-validation__form-card">
      <mat-card-header>
        <mat-card-title>Navigation Item Validation</mat-card-title>
        <mat-card-subtitle>Test validation rules for navigation items</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <form [formGroup]="itemForm" (ngSubmit)="onItemSubmit()" class="sidenav-validation__form">
          <div class="sidenav-validation__form-row">
            <amw-input
              label="ID *"
              formControlName="id"
              placeholder="e.g., dashboard"
              hint="2-50 characters, alphanumeric and underscores only"
              [required]="true">
            </amw-input>

            <amw-input
              label="Label *"
              formControlName="label"
              placeholder="e.g., Dashboard"
              hint="2-100 characters"
              [required]="true">
            </amw-input>

            <amw-input
              label="Icon"
              formControlName="icon"
              placeholder="e.g., dashboard"
              hint="Material icon name (alphanumeric and underscores only)">
            </amw-input>
          </div>

          <div class="sidenav-validation__form-row">
            <amw-input
              label="Route"
              formControlName="route"
              placeholder="e.g., /dashboard"
              hint="Angular route path (starts with /)">
            </amw-input>

            <amw-input
              label="URL"
              formControlName="href"
              placeholder="e.g., https://example.com"
              hint="External URL (starts with http:// or https://)">
            </amw-input>

            <amw-input
              label="Tooltip"
              formControlName="tooltip"
              placeholder="e.g., View dashboard"
              hint="Optional tooltip text (max 200 characters)">
            </amw-input>
          </div>

          <div class="sidenav-validation__form-row">
            <amw-input
              label="Badge"
              formControlName="badge"
              placeholder="e.g., 5"
              hint="Badge text (max 10 characters)">
            </amw-input>

            <amw-select
              label="Badge Color"
              formControlName="badgeColor">
              @for (option of badgeColorOptions; track option) {
                <mat-option [value]="option.value">
                  {{ option.label }}
                </mat-option>
              }
            </amw-select>

            <div class="sidenav-validation__checkbox-group">
              <mat-slide-toggle formControlName="disabled">
                Disabled
              </mat-slide-toggle>
            </div>
          </div>

          <div class="sidenav-validation__form-actions">
            <amw-button variant="elevated" color="primary" type="submit" icon="add" iconPosition="left">Add Item</amw-button>

            <amw-button variant="text" type="button" (click)="resetItem()" icon="refresh" iconPosition="left">Reset</amw-button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>

    <!-- Live Demo -->
    <mat-card class="sidenav-validation__demo-card">
      <mat-card-header>
        <mat-card-title>Live Demo</mat-card-title>
        <mat-card-subtitle>See the sidenav with current configuration</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <div class="sidenav-validation__demo-container">
          <amw-sidenav
            [config]="currentConfig"
            [items]="navigationItems"
            [opened]="currentConfig.opened ?? false"
            (openedChange)="onSidenavOpenedChange($event)"
            (itemClick)="onItemClick($event)">

            <!-- Main Content -->
            <div class="sidenav-validation__main-content">
              <mat-card class="sidenav-validation__content-card">
                <mat-card-header>
                  <mat-card-title>Validation Demo</mat-card-title>
                  <mat-card-subtitle>Test the sidenav with different configurations</mat-card-subtitle>
                </mat-card-header>

                <mat-card-content>
                  <p>
                    This demo shows how the sidenav component handles validation and error states.
                    Try submitting invalid data to see validation errors in action.
                  </p>

                  <div class="sidenav-validation__validation-info">
                    <h4>Validation Rules:</h4>
                    <ul>
                      <li><strong>Required fields:</strong> Mode, Size, Position, ID, Label</li>
                      <li><strong>Width fields:</strong> Must include unit (px, %, rem, em, vw, vh)</li>
                      <li><strong>ID:</strong> 2-50 characters, alphanumeric and underscores only</li>
                      <li><strong>Label:</strong> 2-100 characters</li>
                      <li><strong>Icon:</strong> Alphanumeric and underscores only</li>
                      <li><strong>Route:</strong> Must start with /</li>
                      <li><strong>URL:</strong> Must start with http:// or https://</li>
                      <li><strong>Tooltip:</strong> Maximum 200 characters</li>
                      <li><strong>Badge:</strong> Maximum 10 characters</li>
                    </ul>
                  </div>
                </mat-card-content>
              </mat-card>
            </div>
          </amw-sidenav>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
