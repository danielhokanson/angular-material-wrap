<amw-validation-doc
  componentName="amw-stepper"
  [validationForm]="validationForm"
  [validationInfo]="validationInfo">
  <ng-template #formContent>
    <amw-card>
      <ng-template #cardContent>
        <amw-stepper
          [config]="stepperConfig"
          [steps]="validationSteps"
          [currentStep]="currentStep"
          (stepChange)="onStepChange($event)">
        </amw-stepper>

        <div class="step-content">
          @if (currentStep === 0) {
            <form [formGroup]="validationForm" class="step-form">
              <amw-input
                formControlName="firstName"
                label="First Name *"
                [required]="true">
              </amw-input>
              @if (getStepperError(validationForm, 'firstName')) {
                <div class="field-error">
                  {{ getStepperError(validationForm, 'firstName') }}
                </div>
              }
              <amw-input
                formControlName="lastName"
                label="Last Name *"
                [required]="true">
              </amw-input>
              @if (getStepperError(validationForm, 'lastName')) {
                <div class="field-error">
                  {{ getStepperError(validationForm, 'lastName') }}
                </div>
              }
            </form>
          }

          @if (currentStep === 1) {
            <form [formGroup]="secondFormGroup" class="step-form">
              <amw-input
                formControlName="email"
                label="Email *"
                type="email"
                [required]="true">
              </amw-input>
              @if (getStepperError(secondFormGroup, 'email')) {
                <div class="field-error">
                  {{ getStepperError(secondFormGroup, 'email') }}
                </div>
              }
              <amw-input
                formControlName="phone"
                label="Phone *"
                [required]="true">
              </amw-input>
              @if (getStepperError(secondFormGroup, 'phone')) {
                <div class="field-error">
                  {{ getStepperError(secondFormGroup, 'phone') }}
                </div>
              }
            </form>
          }

          @if (currentStep === 2) {
            <div class="review-section">
              <p>Review your information before submitting.</p>
              <div class="review-data">
                <p><strong>First Name:</strong> {{ validationForm.value.firstName }}</p>
                <p><strong>Last Name:</strong> {{ validationForm.value.lastName }}</p>
                <p><strong>Email:</strong> {{ secondFormGroup.value.email }}</p>
                <p><strong>Phone:</strong> {{ secondFormGroup.value.phone }}</p>
              </div>
              <div class="review-actions">
                <amw-button appearance="text" (click)="resetStepper()">Reset</amw-button>
              </div>
            </div>
          }
        </div>
      </ng-template>
    </amw-card>
  </ng-template>
</amw-validation-doc>
