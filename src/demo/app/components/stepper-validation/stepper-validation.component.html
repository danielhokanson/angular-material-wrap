<div class="stepper-validation-demo">
  <h3>Stepper Validation Examples</h3>
  <p>Demonstrates various validation scenarios for the stepper component.</p>

  <div class="demo-section">
    <h4>Required Field Validation</h4>
    <amw-card>
      <ng-template #cardContent>
        <amw-stepper
          [config]="stepperConfig"
          [steps]="validationSteps"
          [currentStep]="currentStep"
          (stepChange)="onStepChange($event)">
        </amw-stepper>

        <!-- Form content displayed based on current step -->
        <div class="step-content">
          @if (currentStep === 0) {
            <form [formGroup]="firstFormGroup" class="step-form">
              <amw-input
                formControlName="firstName"
                label="First Name *"
                [required]="true">
              </amw-input>
              @if (firstFormGroup.get('firstName')?.hasError('required') && firstFormGroup.get('firstName')?.touched) {
                <div class="field-error">
                  First name is required
                </div>
              }
              <amw-input
                formControlName="lastName"
                label="Last Name *"
                [required]="true">
              </amw-input>
              @if (firstFormGroup.get('lastName')?.hasError('required') && firstFormGroup.get('lastName')?.touched) {
                <div class="field-error">
                  Last name is required
                </div>
              }
            </form>
          }

          @if (currentStep === 1) {
            <form [formGroup]="secondFormGroup" class="step-form">
              <amw-input
                formControlName="email"
                label="Email *"
                type="email"
                [required]="true">
              </amw-input>
              @if (secondFormGroup.get('email')?.hasError('required') && secondFormGroup.get('email')?.touched) {
                <div class="field-error">
                  Email is required
                </div>
              }
              @if (secondFormGroup.get('email')?.hasError('email') && secondFormGroup.get('email')?.touched) {
                <div class="field-error">
                  Please enter a valid email
                </div>
              }
              <amw-input
                formControlName="phone"
                label="Phone *"
                [required]="true">
              </amw-input>
              @if (secondFormGroup.get('phone')?.hasError('required') && secondFormGroup.get('phone')?.touched) {
                <div class="field-error">
                  Phone is required
                </div>
              }
            </form>
          }

          @if (currentStep === 2) {
            <div class="review-section">
              <p>Review your information before submitting.</p>
              <div class="review-data">
                <p><strong>First Name:</strong> {{ firstFormGroup.value.firstName }}</p>
                <p><strong>Last Name:</strong> {{ firstFormGroup.value.lastName }}</p>
                <p><strong>Email:</strong> {{ secondFormGroup.value.email }}</p>
                <p><strong>Phone:</strong> {{ secondFormGroup.value.phone }}</p>
              </div>
              <div class="review-actions">
                <amw-button appearance="text" (click)="resetStepper()">Reset</amw-button>
              </div>
            </div>
          }
        </div>
      </ng-template>
    </amw-card>
  </div>
</div>
