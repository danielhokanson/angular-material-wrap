<div class="stepper-validation-demo">
  <h3>Stepper Validation Examples</h3>
  <p>Demonstrates various validation scenarios for the stepper component.</p>

  <div class="demo-section">
    <h4>Required Field Validation</h4>
    <amw-card>
      <div slot="content">
        <mat-stepper #stepper>
          <mat-step [stepControl]="firstFormGroup">
            <form [formGroup]="firstFormGroup">
              <ng-template matStepLabel>Personal Information</ng-template>
              <amw-input
                formControlName="firstName"
                label="First Name *"
                [required]="true">
              </amw-input>
              @if (firstFormGroup.get('firstName')?.hasError('required')) {
                <div class="field-error">
                  First name is required
                </div>
              }
              <amw-input
                formControlName="lastName"
                label="Last Name *"
                [required]="true">
              </amw-input>
              @if (firstFormGroup.get('lastName')?.hasError('required')) {
                <div class="field-error">
                  Last name is required
                </div>
              }
              <div>
                <amw-button variant="text" matStepperNext>Next</amw-button>
              </div>
            </form>
          </mat-step>
          <mat-step [stepControl]="secondFormGroup">
            <form [formGroup]="secondFormGroup">
              <ng-template matStepLabel>Contact Information</ng-template>
              <amw-input
                formControlName="email"
                label="Email *"
                type="email"
                [required]="true">
              </amw-input>
              @if (secondFormGroup.get('email')?.hasError('required')) {
                <div class="field-error">
                  Email is required
                </div>
              }
              @if (secondFormGroup.get('email')?.hasError('email')) {
                <div class="field-error">
                  Please enter a valid email
                </div>
              }
              <amw-input
                formControlName="phone"
                label="Phone *"
                [required]="true">
              </amw-input>
              @if (secondFormGroup.get('phone')?.hasError('required')) {
                <div class="field-error">
                  Phone is required
                </div>
              }
              <div>
                <amw-button variant="text" matStepperPrevious>Back</amw-button>
                <amw-button variant="text" matStepperNext>Next</amw-button>
              </div>
            </form>
          </mat-step>
          <mat-step>
            <ng-template matStepLabel>Review</ng-template>
            <p>Review your information before submitting.</p>
            <div>
              <amw-button variant="text" matStepperPrevious>Back</amw-button>
              <amw-button variant="text" (click)="stepper.reset()">Reset</amw-button>
            </div>
          </mat-step>
        </mat-stepper>
      </div>
    </amw-card>
  </div>
</div>
