<amw-code-doc
  componentName="dialog"
  [examples]="examples"
  [editableCode]="editableCode">

  <ng-template #preview let-example>
    @switch (example.key) {
      @case ('recommended') {
        <div class="preview-content">
          <div class="preview-note preview-note--info">
            <amw-icon name="lightbulb"></amw-icon>
            <div>
              <strong>Signal-based communication:</strong>
              <ol>
                <li>Call <code>dialogService.open(title, component, config)</code></li>
                <li>Access dialog's signals via <code>dialogRef.instance.mySignal()</code></li>
                <li>Use <code>effect()</code> to react when signals change</li>
                <li>Call <code>dialogRef.close()</code> when done</li>
              </ol>
            </div>
          </div>
        </div>
      }
      @case ('signalComponent') {
        <div class="preview-content">
          <div class="preview-note preview-note--info">
            <amw-icon name="lightbulb"></amw-icon>
            <div>
              <strong>Dialog Component Pattern:</strong>
              <ul>
                <li>Inject <code>AMW_DIALOG_TITLE</code> to get the title</li>
                <li>Inject <code>MAT_DIALOG_DATA</code> for custom data</li>
                <li>Expose a signal (e.g., <code>savedItem = signal&lt;T | null&gt;(null)</code>)</li>
                <li>Set the signal when user takes action</li>
                <li>Parent handles closing via <code>effect()</code></li>
              </ul>
            </div>
          </div>
        </div>
      }
      @case ('basic') {
        <amw-button appearance="outlined" color="warn" (click)="openDialog()">Open Dialog (deprecated)</amw-button>
        <div class="preview-note preview-note--warning">
          <amw-icon name="warning"></amw-icon>
          <span>This pattern is deprecated. Use signal-based dialogs instead.</span>
        </div>
      }
      @case ('confirmation') {
        <amw-button appearance="outlined" color="warn" (click)="openConfirmDialog()">
          Delete Item (deprecated)
        </amw-button>
        <div class="preview-note preview-note--warning">
          <amw-icon name="warning"></amw-icon>
          <span>Migrate to signal-based ConfirmDialogComponent</span>
        </div>
      }
      @case ('alert') {
        <amw-button appearance="outlined" color="warn" (click)="openAlertDialog()">
          Show Alert (deprecated)
        </amw-button>
        <div class="preview-note preview-note--warning">
          <amw-icon name="warning"></amw-icon>
          <span>Migrate to signal-based AlertDialogComponent</span>
        </div>
      }
      @case ('customActions') {
        <amw-button appearance="outlined" color="warn" (click)="openFormDialog()">
          Open Form Dialog (deprecated)
        </amw-button>
        <div class="preview-note preview-note--warning">
          <amw-icon name="warning"></amw-icon>
          <span>Migrate to signal-based FormDialogComponent</span>
        </div>
      }
    }
  </ng-template>
</amw-code-doc>
