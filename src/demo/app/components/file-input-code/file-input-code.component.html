<amw-code-doc
  componentName="amw-file-input"
  [examples]="examples"
  [editableCode]="editableCode">

  <ng-template #preview let-example>
    @switch (example.key) {
      @case ('basic') {
        <amw-file-input
          [(selectedFiles)]="basicFiles"
          (filesChange)="onFilesChange($event)"
          (fileSelect)="onFileSelect($event)"
          (fileRemove)="onFileRemove($event)">
        </amw-file-input>
        @if (basicFiles.length > 0) {
          <p>Selected files: {{ basicFiles.length }}</p>
        }
      }
      @case ('configured') {
        <amw-file-input
          [multiple]="true"
          [accept]="'image/*'"
          [maxSize]="5 * 1024 * 1024"
          [maxFiles]="5"
          [showPreview]="true"
          [allowDragDrop]="true"
          [selectedFiles]="imageFiles"
          (filesChange)="onImageFilesChange($event)"
          placeholder="Upload images (max 5MB each)"
          buttonText="Choose Images">
        </amw-file-input>
        @if (imageFiles.length > 0) {
          <p>Selected images: {{ imageFiles.length }}</p>
        }
      }
      @case ('formControl') {
        <form [formGroup]="fileForm">
          <amw-file-input
            formControlName="profileImage"
            [accept]="'image/*'"
            [maxSize]="5 * 1024 * 1024"
            [hasError]="!!(fileForm.get('profileImage')?.invalid && fileForm.get('profileImage')?.touched)">
            Profile Image
          </amw-file-input>
        </form>
        <p>Form valid: {{ fileForm.valid ? 'Yes' : 'No' }}</p>
        @if (fileForm.get('profileImage')?.hasError('minFiles')) {
          <p>At least one file is required</p>
        }
      }
      @case ('validation') {
        <form [formGroup]="fileForm">
          <amw-file-input
            formControlName="documents"
            [accept]="'.pdf'"
            [maxSize]="10 * 1024 * 1024"
            [hasError]="!!(fileForm.get('documents')?.invalid && fileForm.get('documents')?.touched)"
            [errorMessage]="getErrorMessage('documents')">
            Upload Documents
          </amw-file-input>
        </form>
        <p>Form valid: {{ fileForm.valid ? 'Yes' : 'No' }}</p>
        @if (fileForm.get('documents')?.errors) {
          <p class="error-text">{{ getErrorMessage('documents') }}</p>
        }
      }
      @case ('dragDrop') {
        <amw-file-input
          [allowDragDrop]="true"
          [multiple]="true"
          [accept]="'*/*'"
          [selectedFiles]="dragDropFiles"
          (filesChange)="onFilesChange($event)"
          placeholder="Drag and drop files here or click to browse"
          dropText="Drop files here to upload">
        </amw-file-input>
        @if (dragDropFiles.length > 0) {
          <p>Dropped files: {{ dragDropFiles.length }}</p>
        }
      }
      @case ('fileTypes') {
        <amw-file-input [accept]="'image/*'" [selectedFiles]="imageOnlyFiles">Images</amw-file-input>
        @if (imageOnlyFiles.length > 0) {
          <p>Images: {{ imageOnlyFiles.length }}</p>
        }

        <amw-file-input [accept]="'.jpg,.jpeg,.png,.gif'" [selectedFiles]="specificImageFiles">Specific Images</amw-file-input>
        @if (specificImageFiles.length > 0) {
          <p>Specific images: {{ specificImageFiles.length }}</p>
        }

        <amw-file-input [accept]="'application/pdf'" [selectedFiles]="pdfFiles">PDF Files</amw-file-input>
        @if (pdfFiles.length > 0) {
          <p>PDFs: {{ pdfFiles.length }}</p>
        }

        <amw-file-input [accept]="'image/*,application/pdf'" [selectedFiles]="mixedFiles">Images & PDFs</amw-file-input>
        @if (mixedFiles.length > 0) {
          <p>Mixed files: {{ mixedFiles.length }}</p>
        }

        <amw-file-input [accept]="'video/*'" [selectedFiles]="videoFiles">Video Files</amw-file-input>
        @if (videoFiles.length > 0) {
          <p>Videos: {{ videoFiles.length }}</p>
        }
      }
    }
  </ng-template>
</amw-code-doc>
