<amw-card class="demo-card">
  <ng-template #cardHeader>
    <h2>{{ title() }}</h2>
    <p *ngIf="description()">{{ description() }}</p>
  </ng-template>

  <ng-template #cardContent>
    <!-- Controls Section -->
    <div class="demo-controls-section" *ngIf="properties().length > 0">
      <h3>Live Controls</h3>
      <div class="demo-controls-grid">
        <ng-container *ngFor="let prop of properties()">
          <div class="demo-control-item">
            <label class="demo-control-label">{{ prop.name }}</label>
            <div class="demo-control-description" *ngIf="prop.description">{{ prop.description }}</div>
            
            <!-- String Input -->
            <amw-input
              *ngIf="prop.type === 'string'"
              [formControl]="getFormControl(prop.name)"
              (input)="onInputChange(prop.name, $event)"
              [placeholder]="prop.name"
              class="demo-control-input">
            </amw-input>

            <!-- Number Input -->
            <amw-input
              *ngIf="prop.type === 'number'"
              type="number"
              [formControl]="getFormControl(prop.name)"
              (input)="onNumberInputChange(prop.name, $event)"
              [placeholder]="prop.name"
              class="demo-control-input">
            </amw-input>

            <!-- Boolean Toggle -->
            <amw-switch
              *ngIf="prop.type === 'boolean'"
              [formControl]="getFormControl(prop.name)"
              (change)="onPropertyChange(prop.name, !!$event)"
              class="demo-control-toggle">
              {{ prop.name }}
            </amw-switch>

            <!-- Select Dropdown -->
            <amw-select
              *ngIf="prop.type === 'select'"
              [formControl]="getFormControl(prop.name)"
              [options]="prop.options"
              (selectionChange)="onSelectChange(prop.name, $event)"
              class="demo-control-input">
            </amw-select>

            <!-- Slider -->
            <div *ngIf="prop.type === 'slider'" class="demo-control-slider">
              <amw-slider
                [min]="prop.min || 0"
                [max]="prop.max || 100"
                [step]="prop.step || 1"
                [formControl]="getFormControl(prop.name)"
                (change)="onSliderChange(prop.name, $event)"
                class="demo-slider">
              </amw-slider>
              <span class="demo-slider-value">{{ getPropertyValue(prop.name) }}</span>
            </div>
          </div>
        </ng-container>
      </div>

      <div class="demo-controls-actions">
        <amw-button appearance="text" (click)="resetProperties()">Reset</amw-button>
      </div>
    </div>

    <!-- Form Toggle Section -->
    <div class="demo-form-toggle-section" *ngIf="showFormToggle()">
      <h3>Demo Mode</h3>
      <amw-switch
        [checked]="isFormMode"
        (change)="onFormModeToggle()"
        class="demo-form-toggle">
        {{ isFormMode ? 'Form Mode (Reactive Forms)' : 'ngModel Mode (Two-way Binding)' }}
      </amw-switch>
    </div>

    <!-- Demo Content Area -->
    <div class="demo-content-area">
      <ng-content></ng-content>
    </div>

    <!-- Code Example Section -->
    <div class="demo-code-section" *ngIf="showCodeExample()">
      <h3>Usage Example</h3>
      <pre class="demo-code-block"><code>{{ generateCodeExample() }}</code></pre>
    </div>
  </ng-template>
</amw-card>
