<div class="directives-demo">
  <div class="directives-header">
    <h1>Angular Directives</h1>
    <p>Reusable directive functionality and utilities</p>
  </div>

  <div class="directives-content">
    <div class="directives-main">
      <mat-card class="directive-demo">
        <mat-card-header>
          <mat-card-title>{{ selectedDirective.name }}</mat-card-title>
          <mat-card-subtitle>Interactive demo and documentation</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <mat-tab-group [(selectedIndex)]="selectedTab" class="directive-tabs">
            <mat-tab label="Demo" icon="play_arrow">
              @switch (selectedDirective.id) {
                @case ('click-outside') {
                  <div class="demo-content">
                    <h3>Click Outside Directive Demo</h3>
                    <p>This directive detects clicks outside of a specified element.</p>
                    <div class="demo-box"
                      (click)="onBoxClick()"
                      (amwClickOutside)="onOutsideClick()"
                      [class.clicked]="boxClicked"
                      style="padding: 20px; border: 2px dashed #ccc; margin: 20px 0; cursor: pointer; text-align: center;">
                      <h4>Click inside this box</h4>
                      <p>Then click outside to see the directive in action</p>
                      @if (boxClicked) {
                        <p class="click-indicator">Box was clicked!</p>
                      }
                    </div>
                  </div>
                }
                @case ('auto-focus') {
                  <div class="demo-content">
                    <h3>Auto Focus Directive Demo</h3>
                    <p>This directive automatically focuses an element when it becomes visible.</p>
                    <div class="demo-section">
                      <h4>Input with Auto Focus</h4>
                      <mat-form-field appearance="outline">
                        <mat-label>This input will auto-focus</mat-label>
                        <input matInput
                          name="autoFocusInput"
                          placeholder="Type something here"
                          [amwAutoFocus]="true">
                      </mat-form-field>
                    </div>
                    <div class="demo-section">
                      <h4>Button with Auto Focus</h4>
                      <button mat-raised-button color="primary" [amwAutoFocus]="true">
                        This button will auto-focus
                      </button>
                    </div>
                  </div>
                }
                @case ('copy-to-clipboard') {
                  <div class="demo-content">
                    <h3>Copy to Clipboard Directive Demo</h3>
                    <p>This directive allows easy copying of text to the clipboard.</p>
                    <div class="demo-section">
                      <h4>Copy Text</h4>
                      <mat-form-field appearance="outline">
                        <mat-label>Text to copy</mat-label>
                        <input matInput
                          name="copyText"
                          [(ngModel)]="copyText"
                          placeholder="Enter text to copy">
                      </mat-form-field>
                      <button mat-raised-button color="primary"
                        amwCopyToClipboard
                        [amwCopyToClipboard]="copyText">
                        <mat-icon>content_copy</mat-icon>
                        Copy to Clipboard
                      </button>
                    </div>
                    <div class="demo-section">
                      <h4>Copy Code Block</h4>
                      <div class="code-block">
                        <pre>{{ codeExample }}</pre>
                        <button mat-icon-button
                          amwCopyToClipboard
                          [amwCopyToClipboard]="codeExample"
                          title="Copy code">
                          <mat-icon>content_copy</mat-icon>
                        </button>
                      </div>
                    </div>
                  </div>
                }
                @case ('tooltip') {
                  <div class="demo-content">
                    <h3>Tooltip Directive Demo</h3>
                    <p>Display helpful information on hover or focus with support for HTML content.</p>
                    <div class="demo-section">
                      <h4>Basic Tooltip</h4>
                      <button mat-raised-button color="primary"
                        amwTooltip="This is a basic tooltip">
                        Hover me
                      </button>
                    </div>
                    <div class="demo-section">
                      <h4>Tooltip with HTML Content</h4>
                      <button mat-raised-button color="accent"
                        [amwTooltip]="htmlTooltipContent"
                        [tooltipAllowHtml]="true">
                        HTML Tooltip
                      </button>
                    </div>
                    <div class="demo-section">
                      <h4>Tooltip Positions</h4>
                      <div class="tooltip-demo-grid">
                        <button mat-button amwTooltip="Top tooltip" tooltipPosition="top">Top</button>
                        <button mat-button amwTooltip="Bottom tooltip" tooltipPosition="bottom">Bottom</button>
                        <button mat-button amwTooltip="Left tooltip" tooltipPosition="left">Left</button>
                        <button mat-button amwTooltip="Right tooltip" tooltipPosition="right">Right</button>
                      </div>
                    </div>
                  </div>
                }
              }
            </mat-tab>

            <mat-tab label="Code" icon="code">
              <div class="code-content">
                @switch (selectedDirective.id) {
                  @case ('tooltip') {
                    <div class="tooltip-code-examples">
                      <h3>Tooltip Code Examples</h3>
                      <p>Interactive examples showing different tooltip configurations.</p>

                      <div class="code-example">
                        <h4>Basic Usage</h4>
                        <pre><code>{{ tooltipCodeExamples.basic }}</code></pre>
                        <div class="preview">
                          <button mat-raised-button color="primary" amwTooltip="This is a tooltip">
                            Hover me
                          </button>
                        </div>
                      </div>

                      <div class="code-example">
                        <h4>Tooltip Positions</h4>
                        <pre><code>{{ tooltipCodeExamples.positions }}</code></pre>
                        <div class="preview">
                          <div class="tooltip-demo-grid">
                            <button mat-button amwTooltip="Top tooltip" tooltipPosition="top">Top</button>
                            <button mat-button amwTooltip="Bottom tooltip" tooltipPosition="bottom">Bottom</button>
                            <button mat-button amwTooltip="Left tooltip" tooltipPosition="left">Left</button>
                            <button mat-button amwTooltip="Right tooltip" tooltipPosition="right">Right</button>
                            <button mat-button amwTooltip="Auto position" tooltipPosition="auto">Auto</button>
                          </div>
                        </div>
                      </div>

                      <div class="code-example">
                        <h4>HTML Content</h4>
                        <pre><code>{{ tooltipCodeExamples.html }}</code></pre>
                        <div class="preview">
                          <button mat-raised-button color="accent"
                            [amwTooltip]="htmlTooltipContent"
                            [tooltipAllowHtml]="true">
                            HTML Tooltip
                          </button>
                        </div>
                      </div>

                      <div class="code-example">
                        <h4>Custom Width and Styling</h4>
                        <pre><code>{{ tooltipCodeExamples.styling }}</code></pre>
                        <div class="preview">
                          <button mat-raised-button
                            amwTooltip="This is a wider tooltip with custom styling"
                            tooltipMaxWidth="400px"
                            tooltipClass="custom-tooltip">
                            Custom Style
                          </button>
                        </div>
                      </div>

                      <div class="code-example">
                        <h4>Disabled Tooltip</h4>
                        <pre><code>{{ tooltipCodeExamples.disabled }}</code></pre>
                        <div class="preview">
                          <button mat-raised-button
                            amwTooltip="This won't show"
                            [tooltipDisabled]="true">
                            Tooltip Disabled
                          </button>
                        </div>
                      </div>

                      <div class="code-example">
                        <h4>Configuration Object</h4>
                        <pre><code>{{ tooltipCodeExamples.config }}</code></pre>
                        <div class="preview">
                          <button mat-raised-button
                            [amwTooltip]="{
                              content: 'Configured tooltip',
                              position: 'top',
                              maxWidth: '300px',
                              class: 'custom-class',
                              allowHtml: false,
                              disabled: false
                            }">
                            Configured Tooltip
                          </button>
                        </div>
                      </div>
                    </div>
                  }
                  @default {
                    <h3>{{ selectedDirective.name }} Directive Code</h3>
                    <p>Code examples will be available soon.</p>
                  }
                }
              </div>
            </mat-tab>

            <mat-tab label="API" icon="description">
              <div class="api-content">
                @switch (selectedDirective.id) {
                  @case ('tooltip') {
                    <div class="tooltip-api">
                      <h3>Tooltip Directive API</h3>
                      <p>Complete reference for the amwTooltip directive properties and configuration.</p>

                      <div class="api-section__inputs">
                        <h4>Directive Inputs</h4>
                        <div class="api-table">
                          <div class="api-table__header">
                            <div class="api-table__cell">Property</div>
                            <div class="api-table__cell">Type</div>
                            <div class="api-table__cell">Default</div>
                            <div class="api-table__cell">Description</div>
                          </div>
                          @for (input of tooltipApiDocumentation.inputs; track input.name) {
                            <div class="api-table__row">
                              <div class="api-table__cell api-table__cell--property">{{ input.name }}</div>
                              <div class="api-table__cell api-table__cell--type">{{ input.type }}</div>
                              <div class="api-table__cell api-table__cell--default">{{ input.default }}</div>
                              <div class="api-table__cell api-table__cell--description">{{ input.description }}</div>
                            </div>
                          }
                        </div>
                      </div>

                      <div class="api-section__interface">
                        <h4>TooltipConfig Interface</h4>
                        <p>Configuration object for tooltip directive when using object syntax.</p>
                        <div class="api-table">
                          <div class="api-table__header">
                            <div class="api-table__cell">Property</div>
                            <div class="api-table__cell">Type</div>
                            <div class="api-table__cell">Optional</div>
                            <div class="api-table__cell">Description</div>
                          </div>
                          @for (prop of tooltipApiDocumentation.interface.properties; track prop.name) {
                            <div class="api-table__row">
                              <div class="api-table__cell api-table__cell--property">{{ prop.name }}</div>
                              <div class="api-table__cell api-table__cell--type">{{ prop.type }}</div>
                              <div class="api-table__cell api-table__cell--default">{{ prop.optional ? 'Yes' : 'No' }}</div>
                              <div class="api-table__cell api-table__cell--description">{{ prop.description }}</div>
                            </div>
                          }
                        </div>
                      </div>

                      <div class="api-section__usage">
                        <h4>Usage Notes</h4>
                        <ul>
                          <li><strong>Simple String:</strong> Use <code>amwTooltip="text"</code> for basic tooltips</li>
                          <li><strong>Configuration Object:</strong> Use <code>[amwTooltip]="config"</code> for advanced options</li>
                          <li><strong>HTML Content:</strong> Set <code>tooltipAllowHtml="true"</code> to render HTML (use with caution)</li>
                          <li><strong>Auto Positioning:</strong> The 'auto' position adapts based on available space</li>
                          <li><strong>Accessibility:</strong> Tooltips show on both hover and keyboard focus</li>
                          <li><strong>CDK Overlay:</strong> Built on Angular CDK Overlay for robust positioning</li>
                          <li><strong>Custom Styling:</strong> Use <code>tooltipClass</code> to apply custom CSS classes</li>
                        </ul>
                      </div>

                      <div class="api-section__examples">
                        <h4>Quick Examples</h4>
                        <div class="example-grid">
                          <div class="example-item">
                            <strong>String syntax:</strong>
                            <code>amwTooltip="Tooltip text"</code>
                          </div>
                          <div class="example-item">
                            <strong>Position:</strong>
                            <code>tooltipPosition="top"</code>
                          </div>
                          <div class="example-item">
                            <strong>Custom width:</strong>
                            <code>tooltipMaxWidth="400px"</code>
                          </div>
                          <div class="example-item">
                            <strong>Disable:</strong>
                            <code>[tooltipDisabled]="true"</code>
                          </div>
                        </div>
                      </div>
                    </div>
                  }
                  @default {
                    <h3>{{ selectedDirective.name }} Directive API</h3>
                    <p>API documentation will be available soon.</p>
                  }
                }
              </div>
            </mat-tab>
          </mat-tab-group>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>