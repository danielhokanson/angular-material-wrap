<div class="form-page-demo">
  <div class="form-page-demo__header">
    <h1>Form/Create-Edit Page Demo</h1>
    <p>This demo showcases the AMW Form Page component with comprehensive employee data entry, including validation, auto-save, and state management.</p>
  </div>

  <amw-card class="form-page-demo__main-card">
    <ng-template #cardContent>
      <amw-tabs [(selectedIndex)]="selectedTab" class="form-page-demo__tabs">
        <!-- Demo Tab -->
        <amw-tab label="Demo" icon="play_arrow">
          <div class="form-page-demo__demo-content">
            <div class="form-page-demo__controls">
              <amw-card class="form-page-demo__controls-card">
                <ng-template #cardContent>
                  <amw-tabs [(selectedIndex)]="currentViewIndex" (selectedIndexChange)="onViewChange($event)">
                    <amw-tab label="Basic View">
                      <div class="form-page-demo__tab-content">
                        <p>Basic form view with essential fields and validation.</p>
                      </div>
                    </amw-tab>
                    <amw-tab label="Advanced View">
                      <div class="form-page-demo__tab-content">
                        <p>Advanced form view with auto-save, preview, and additional features.</p>
                      </div>
                    </amw-tab>
                  </amw-tabs>

                  <amw-divider class="form-page-demo__divider"></amw-divider>

                  <div class="form-page-demo__mode-controls">
                    <h4>Form Mode:</h4>
                    <div class="form-page-demo__mode-buttons">
                      <amw-button appearance="text"
                              [color]="currentMode === 'create' ? 'primary' : 'basic'"
                              (click)="onModeChange('create')" icon="add" iconPosition="left">Create</amw-button>
                      <amw-button appearance="text"
                              [color]="currentMode === 'edit' ? 'primary' : 'basic'"
                              (click)="onModeChange('edit')" icon="edit" iconPosition="left">Edit</amw-button>
                      <amw-button appearance="text"
                              [color]="currentMode === 'view' ? 'primary' : 'basic'"
                              (click)="onModeChange('view')" icon="visibility" iconPosition="left">View</amw-button>
                    </div>
                  </div>
                </ng-template>
              </amw-card>
            </div>

            <div class="form-page-demo__content">
              <amw-form-page
                [config]="formConfig"
                [itemId]="currentItemId"
                [dataSource]="dataSource"
                [autoSave]="formConfig.autoSave ?? false"
                (formSubmit)="onFormSave($event)"
                (formCancel)="onFormDelete()"
                (formChange)="onFormChange($event)"
                (formReset)="onFormReset()">
              </amw-form-page>
            </div>

            <div class="form-page-demo__info">
              <amw-card class="form-page-demo__info-card">
                <ng-template #cardHeader>
                  <h2>Demo Information</h2>
                </ng-template>
                <ng-template #cardContent>
                  <div class="form-page-demo__info-content">
                    <div class="form-page-demo__info-section">
                      <h4>Features Demonstrated:</h4>
                      <ul>
                        <li>Multiple field types (text, email, select, date, chips, toggle, checkbox)</li>
                        <li>Real-time validation with custom validators</li>
                        <li>Auto-save functionality (in advanced view)</li>
                        <li>Dependent field visibility</li>
                        <li>Form state management and progress tracking</li>
                        <li>Custom component integration</li>
                        <li>Responsive design</li>
                      </ul>
                    </div>

                    <div class="form-page-demo__info-section">
                      <h4>Form Sections:</h4>
                      <ul>
                        <li><strong>Personal Information:</strong> Basic contact details</li>
                        <li><strong>Professional Information:</strong> Work-related data</li>
                        <li><strong>Skills & Preferences:</strong> Technical skills and bio</li>
                        <li><strong>User Preferences:</strong> Notification settings</li>
                      </ul>
                    </div>

                    <div class="form-page-demo__info-section">
                      <h4>Validation Rules:</h4>
                      <ul>
                        <li>First/Last name: minimum 2 characters</li>
                        <li>Email: valid email format</li>
                        <li>Phone: valid phone number format</li>
                        <li>Salary: between $30,000 and $500,000</li>
                        <li>Required fields: marked with asterisk (*)</li>
                      </ul>
                    </div>
                  </div>
                </ng-template>
              </amw-card>
            </div>
          </div>
        </amw-tab>

        <!-- Code Tab -->
        <amw-tab label="Code" icon="code">
          <div class="form-page-demo__code-content">
            <h3>Basic Usage</h3>
            <p>Import and configure the AmwFormPageComponent with your form configuration and data source.</p>
            <pre><code>{{ codeExamples.basic }}</code></pre>

            <h3>Configuration Options</h3>
            <p>The FormPageConfig interface provides extensive customization options for the form.</p>
            <pre><code>{{ codeExamples.configuration }}</code></pre>

            <h3>Field Configuration</h3>
            <p>Configure individual form fields with type-specific options and validation.</p>
            <pre><code>{{ codeExamples.fields }}</code></pre>

            <h3>Data Source Implementation</h3>
            <p>Implement the FormPageDataSource interface to connect with your backend API.</p>
            <pre><code>{{ codeExamples.dataSource }}</code></pre>

            <h3>Event Handling</h3>
            <p>Handle form events to respond to user actions and form state changes.</p>
            <pre><code>{{ codeExamples.eventHandling }}</code></pre>
          </div>
        </amw-tab>

        <!-- API Tab -->
        <amw-tab label="API" icon="description">
          <div class="form-page-demo__api-content">
            <amw-api-doc
              componentName="AmwFormPageComponent"
              [apiDocumentation]="formPageApiDoc"
              [interfaces]="formPageInterfaces"
              description="A comprehensive form page component for building create, edit, and view forms with validation, auto-save, and state management.">
            </amw-api-doc>
          </div>
        </amw-tab>
      </amw-tabs>
    </ng-template>
  </amw-card>
</div>
