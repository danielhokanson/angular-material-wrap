<div [class]="dialogClasses">
  <!-- Header -->
  @if (showHeader) {
    <div class="amw-dialog__header">
      @if (headerTemplate) {
        <ng-container [ngTemplateOutlet]="headerTemplate"></ng-container>
      } @else {
        <h2 class="amw-dialog__title">
          @if (type === 'warning' || type === 'alert') {
            <mat-icon class="dialog-icon">warning</mat-icon>
          }
          @if (type === 'error') {
            <mat-icon class="dialog-icon">error</mat-icon>
          }
          @if (type === 'success') {
            <mat-icon class="dialog-icon">check_circle</mat-icon>
          }
          @if (type === 'info') {
            <mat-icon class="dialog-icon">info</mat-icon>
          }
          @if (type === 'confirm') {
            <mat-icon class="dialog-icon">help</mat-icon>
          }
          @if (!type || type === 'standard') {
            <mat-icon class="dialog-icon">info</mat-icon>
          }
          {{ title }}
        </h2>
        @if (showCloseButton) {
          <amw-button
            variant="icon"
            icon="close"
            class="amw-dialog__close"
            (click)="onCloseClick()"
            [disabled]="!closable || disabled || loading">
          </amw-button>
        }
      }
    </div>
  }

  <!-- Content -->
  <div class="amw-dialog__content">
    @if (contentTemplate) {
      <ng-container [ngTemplateOutlet]="contentTemplate"></ng-container>
    } @else {
      <div class="dialog-content">
        @switch (type) {
          <!-- Success Message -->
          @case ('success') {
            <div class="success-message">
              <mat-icon class="success-icon">check_circle</mat-icon>
              <div>
                <p class="success-text" [innerHTML]="content"></p>
              </div>
            </div>
          }
          <!-- Alert Message -->
          @case ('alert') {
            <div class="alert-message">
              <mat-icon class="alert-icon">warning</mat-icon>
              <div>
                <p class="alert-text" [innerHTML]="content"></p>
              </div>
            </div>
          }
          <!-- Info Message -->
          @case ('info') {
            <div class="info-message">
              <mat-icon class="info-icon">info</mat-icon>
              <div>
                <p class="info-text" [innerHTML]="content"></p>
              </div>
            </div>
          }
          <!-- Warning Message -->
          @case ('warning') {
            <div class="alert-message">
              <mat-icon class="alert-icon">warning</mat-icon>
              <div>
                <p class="alert-text" [innerHTML]="content"></p>
              </div>
            </div>
          }
          <!-- Error Message -->
          @case ('error') {
            <div class="alert-message">
              <mat-icon class="alert-icon">error</mat-icon>
              <div>
                <p class="alert-text" [innerHTML]="content"></p>
              </div>
            </div>
          }
          <!-- Confirm Message -->
          @case ('confirm') {
            <div class="info-message">
              <mat-icon class="info-icon">help_outline</mat-icon>
              <div>
                <p class="info-text" [innerHTML]="content"></p>
              </div>
            </div>
          }
          <!-- Default/Standard Message -->
          @default {
            <div>
              <p [innerHTML]="content"></p>
            </div>
          }
        }
      </div>
    }

  </div>

  <!-- Footer -->
  @if (showFooter && actions.length > 0) {
    <div class="amw-dialog__footer">
      @if (footerTemplate) {
        <ng-container [ngTemplateOutlet]="footerTemplate"></ng-container>
      } @else {
        @for (action of actions; track action; let i = $index) {
          <amw-button
            variant="text"
            [icon]="action.icon"
            [iconPosition]="action.icon ? 'left' : undefined"
            [color]="action.color || 'primary'"
            [disabled]="action.disabled || disabled || loading"
            (click)="onActionClick(action, i)"
            class="amw-dialog__action">
            {{ action.label }}
          </amw-button>
        }
      }
    </div>
  }

  <!-- Loading Overlay -->
  @if (loading) {
    <div class="amw-dialog__loading">
      <amw-progress-spinner diameter="40"></amw-progress-spinner>
      <p>Loading...</p>
    </div>
  }
</div>