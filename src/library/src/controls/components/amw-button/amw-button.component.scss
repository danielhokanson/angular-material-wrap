// AMW Button Component Styles
// Following BEM methodology with amw-button as the block

.amw-button {
  // Base button styles
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--mdc-shape-small, 8px);
  border: none;
  border-radius: var(--mdc-shape-small, 4px);
  font-family: var(--mdc-typography-button-font-family, inherit);
  font-weight: var(--mdc-typography-button-font-weight, 500);
  text-decoration: none;
  cursor: pointer;
  transition: all var(--mdc-motion-duration-short4, 0.2s) ease-in-out;
  outline: none;

  // Strip all wrapper styles for bare icon mode
  &--bare {
    display: contents;
  }

  // Size variants
  &--small {
    padding: var(--mdc-button-small-horizontal-padding, 6px) var(--mdc-button-small-vertical-padding, 12px);
    font-size: var(--mdc-typography-button-small-font-size, 12px);
    min-height: var(--mdc-button-small-height, 32px);

    &.amw-button--icon-only,
    &.amw-button--icon {
      min-width: var(--mdc-button-small-height, 32px);
      width: var(--mdc-button-small-height, 32px);
      height: var(--mdc-button-small-height, 32px);
      padding: 0;
    }
  }

  &--medium {
    padding: var(--mdc-button-horizontal-padding, 8px) var(--mdc-button-vertical-padding, 16px);
    font-size: var(--mdc-typography-button-font-size, 14px);
    min-height: var(--mdc-button-height, 40px);

    &.amw-button--icon-only,
    &.amw-button--icon {
      min-width: var(--mdc-button-height, 40px);
      width: var(--mdc-button-height, 40px);
      height: var(--mdc-button-height, 40px);
      padding: 0;
    }
  }

  &--large {
    padding: var(--mdc-button-large-horizontal-padding, 12px) var(--mdc-button-large-vertical-padding, 24px);
    font-size: var(--mdc-typography-button-large-font-size, 16px);
    min-height: var(--mdc-button-large-height, 48px);

    &.amw-button--icon-only,
    &.amw-button--icon {
      min-width: var(--mdc-button-large-height, 48px);
      width: var(--mdc-button-large-height, 48px);
      height: var(--mdc-button-large-height, 48px);
      padding: 0;
    }
  }

  // Variant styles - Material Design variants
  &--primary {
    // Uses Material's primary color - handled by mat-button
  }

  &--accent {
    // Uses Material's accent color - handled by mat-button
  }

  &--warn {
    // Uses Material's warn color - handled by mat-button
  }

  &--basic {
    // Basic button without Material styling
    background-color: var(--mdc-theme-surface-variant, #f5f5f5);
    color: var(--mdc-theme-on-surface, #333);
    border: 1px solid var(--mdc-theme-outline-variant, #ccc);

    &:hover:not(:disabled) {
      background-color: var(--mdc-theme-surface-container-low, #e0e0e0);
    }
  }

  &--raised {
    // Raised button with elevation - handled by mat-raised-button
    box-shadow: var(--mdc-elevation-level2, 0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12));
    
    &:hover:not(:disabled) {
      box-shadow: var(--mdc-elevation-level4, 0 2px 4px -1px rgba(0,0,0,.2), 0 4px 5px 0 rgba(0,0,0,.14), 0 1px 10px 0 rgba(0,0,0,.12));
    }
  }

  &--stroked {
    // Stroked button with border - handled by mat-stroked-button
  }

  &--flat {
    // Flat button without elevation - handled by mat-flat-button
  }

  // Icon-only button styles (inferred when icon is set but no text)
  &--icon-only,
  &--icon {
    // Icon button - square with icon only - handled by mat-icon-button
    border-radius: var(--mdc-shape-large, 50%);
    min-width: var(--mdc-button-height, 40px);
    width: var(--mdc-button-height, 40px);
    height: var(--mdc-button-height, 40px);
    padding: 0;
  }

  &--fab {
    // Floating Action Button - handled by mat-fab
    border-radius: var(--mdc-shape-large, 50%);
    min-width: var(--mdc-fab-small-container-size, 56px);
    width: var(--mdc-fab-small-container-size, 56px);
    height: var(--mdc-fab-small-container-size, 56px);
    padding: 0;
    box-shadow: var(--mdc-elevation-level3, 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12));
    
    &:hover:not(:disabled) {
      box-shadow: var(--mdc-elevation-level4, 0 2px 4px -1px rgba(0,0,0,.2), 0 4px 5px 0 rgba(0,0,0,.14), 0 1px 10px 0 rgba(0,0,0,.12));
    }
  }

  &--mini-fab {
    // Mini Floating Action Button - handled by mat-mini-fab
    border-radius: var(--mdc-shape-large, 50%);
    min-width: var(--mdc-fab-small-container-size, 40px);
    width: var(--mdc-fab-small-container-size, 40px);
    height: var(--mdc-fab-small-container-size, 40px);
    padding: 0;
    box-shadow: var(--mdc-elevation-level3, 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12));

    &:hover:not(:disabled) {
      box-shadow: var(--mdc-elevation-level4, 0 2px 4px -1px rgba(0,0,0,.2), 0 4px 5px 0 rgba(0,0,0,.14), 0 1px 10px 0 rgba(0,0,0,.12));
    }
  }

  &--extended-fab {
    // Extended FAB with text - handled by mat-fab extended
    border-radius: var(--mdc-extended-fab-container-shape, 16px);
    min-width: auto;
    width: auto;
    height: var(--mdc-extended-fab-container-height, 56px);
    padding: 0 20px;
    box-shadow: var(--mdc-elevation-level3, 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12));

    &:hover:not(:disabled) {
      box-shadow: var(--mdc-elevation-level4, 0 2px 4px -1px rgba(0,0,0,.2), 0 4px 5px 0 rgba(0,0,0,.14), 0 1px 10px 0 rgba(0,0,0,.12));
    }
  }

  // Bare icon - just a clickable icon with no button wrapper
  &__bare-icon {
    cursor: pointer;
    border-radius: var(--mdc-shape-small, 4px);
    padding: 2px;
    transition: background-color var(--mdc-motion-duration-short4, 0.2s) ease-in-out,
                opacity var(--mdc-motion-duration-short4, 0.2s) ease-in-out;

    &:hover {
      background-color: var(--mat-icon-button-hover-state-layer-color, color-mix(in srgb, var(--mdc-theme-on-surface, #1c1b1f) 8%, transparent));
    }

    &:focus-visible {
      outline: 2px solid var(--mat-focus-indicator-color, #6750A4);
      outline-offset: 1px;
    }

    &[aria-disabled="true"] {
      opacity: 0.38;
      cursor: not-allowed;
      pointer-events: none;
    }
  }

  // State modifiers
  &--full-width {
    width: 100%;
  }

  &--loading {
    cursor: not-allowed;
    opacity: var(--mdc-state-disabled-state-layer-opacity, 0.7);
  }

  &:disabled {
    opacity: var(--mdc-state-disabled-state-layer-opacity, 0.6);
    cursor: not-allowed;
  }

  // Element styles
  &__icon {
    font-size: var(--mdc-icon-size, 18px);
    width: var(--mdc-icon-size, 18px);
    height: var(--mdc-icon-size, 18px);

    &--left {
      margin-right: var(--mdc-shape-small, 4px);
    }

    &--right {
      margin-left: var(--mdc-shape-small, 4px);
    }
  }

  &__spinner {
    display: flex;
    align-items: center;
    justify-content: center;

    &-icon {
      animation: spin var(--mdc-motion-duration-long1, 1s) linear infinite;
      font-size: var(--mdc-icon-size, 18px);
      width: var(--mdc-icon-size, 18px);
      height: var(--mdc-icon-size, 18px);
    }
  }

  &__content {
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
